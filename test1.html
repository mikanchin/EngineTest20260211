<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­å­¦1å¹´ç”Ÿ è‹±èªé•·æ–‡å•é¡Œ</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg: #0f172a;
            --bg2: #1e293b;
            --txt: #f1f5f9;
            --txt2: #94a3b8;
            --muted: #64748b;
            --blue: #38bdf8;
            --purple: #a78bfa;
            --green: #34d399;
            --orange: #fb923c;
            --ok: #22c55e;
            --ng: #ef4444;
            --border: #334155;
            --r: 16px
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            font-family: 'Noto Sans JP', 'Inter', sans-serif;
            background: var(--bg);
            color: var(--txt);
            line-height: 1.8;
            min-height: 100vh
        }

        .hero {
            background: linear-gradient(135deg, #1e3a5f, #2d1b69, #1e3a5f);
            padding: 60px 20px 40px;
            text-align: center;
            position: relative;
            overflow: hidden
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 30% 50%, rgba(56, 189, 248, .08), transparent 50%), radial-gradient(circle at 70% 50%, rgba(167, 139, 250, .08), transparent 50%);
            animation: fl 12s ease-in-out infinite
        }

        @keyframes fl {

            0%,
            100% {
                transform: translateY(0)
            }

            50% {
                transform: translateY(-20px)
            }
        }

        .hero h1 {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--blue), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 1
        }

        .hero .sub {
            color: var(--txt2);
            font-size: 1rem;
            margin-top: 8px;
            position: relative;
            z-index: 1
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 20px;
            position: relative;
            z-index: 1;
            flex-wrap: wrap
        }

        .stat {
            background: rgba(255, 255, 255, .06);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, .08);
            padding: 10px 20px;
            border-radius: 50px;
            font-size: .85rem;
            color: var(--txt2)
        }

        .stat span {
            font-weight: 700;
            color: var(--blue)
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 20px 80px
        }

        .passage {
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: var(--r);
            padding: 36px;
            margin-bottom: 40px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, .3);
            position: relative
        }

        .passage::before {
            content: 'ğŸ“– Reading Passage';
            position: absolute;
            top: -14px;
            left: 24px;
            background: linear-gradient(135deg, var(--blue), var(--purple));
            color: #fff;
            padding: 4px 16px;
            border-radius: 20px;
            font-size: .8rem;
            font-weight: 600
        }

        .passage p {
            font-family: 'Inter', sans-serif;
            font-size: 1.05rem;
            line-height: 2.2;
            margin-bottom: 16px;
            text-indent: 1.5em;
            text-align: justify
        }

        .wc {
            text-align: right;
            font-size: .8rem;
            color: var(--muted);
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border)
        }

        .sec-h {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 40px 0 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border)
        }

        .sec-icon {
            width: 42px;
            height: 42px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            flex-shrink: 0
        }

        .sec-icon.ch {
            background: linear-gradient(135deg, #3b82f6, #2563eb)
        }

        .sec-icon.tf {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed)
        }

        .sec-t {
            font-size: 1.2rem;
            font-weight: 700
        }

        .sec-d {
            font-size: .85rem;
            color: var(--muted)
        }

        .qc {
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 24px;
            margin-bottom: 16px;
            transition: all .3s
        }

        .qc:hover {
            border-color: rgba(56, 189, 248, .3);
            box-shadow: 0 0 20px rgba(56, 189, 248, .05)
        }

        .qc.ok {
            border-color: var(--ok);
            background: rgba(34, 197, 94, .05)
        }

        .qc.ng {
            border-color: var(--ng);
            background: rgba(239, 68, 68, .05)
        }

        .qn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--blue), var(--purple));
            color: #fff;
            font-size: .8rem;
            font-weight: 700;
            margin-right: 10px;
            flex-shrink: 0
        }

        .qt {
            font-size: .98rem;
            margin-bottom: 14px;
            display: flex;
            align-items: flex-start
        }

        .choices {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-left: 38px
        }

        @media(max-width:600px) {
            .choices {
                grid-template-columns: 1fr
            }

            .hero h1 {
                font-size: 1.6rem
            }

            .passage {
                padding: 24px 18px
            }

            .qc {
                padding: 18px
            }

            .container {
                padding: 20px 12px 60px
            }
        }

        .cb {
            background: rgba(255, 255, 255, .04);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 10px 14px;
            color: var(--txt);
            font-size: .9rem;
            cursor: pointer;
            transition: all .25s;
            text-align: left;
            font-family: 'Inter', 'Noto Sans JP', sans-serif
        }

        .cb:hover {
            background: rgba(56, 189, 248, .08);
            border-color: var(--blue);
            transform: translateY(-1px)
        }

        .cb.sel {
            background: rgba(56, 189, 248, .15);
            border-color: var(--blue);
            color: var(--blue);
            font-weight: 500
        }

        .cb.ca {
            background: rgba(34, 197, 94, .15);
            border-color: var(--ok);
            color: var(--ok)
        }

        .cb.wa {
            background: rgba(239, 68, 68, .15);
            border-color: var(--ng);
            color: var(--ng)
        }

        .tfc {
            display: flex;
            gap: 12px;
            margin-left: 38px
        }

        .tb {
            flex: 1;
            max-width: 180px;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, .04);
            color: var(--txt);
            font-size: .9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all .25s;
            text-align: center;
            font-family: 'Inter', 'Noto Sans JP', sans-serif
        }

        .tb:hover {
            transform: translateY(-1px)
        }

        .tb.t:hover {
            background: rgba(34, 197, 94, .1);
            border-color: var(--ok)
        }

        .tb.f:hover {
            background: rgba(239, 68, 68, .1);
            border-color: var(--ng)
        }

        .tb.sel.t {
            background: rgba(34, 197, 94, .15);
            border-color: var(--ok);
            color: var(--ok)
        }

        .tb.sel.f {
            background: rgba(239, 68, 68, .15);
            border-color: var(--ng);
            color: var(--ng)
        }

        .tb.ca {
            background: rgba(34, 197, 94, .2) !important;
            border-color: var(--ok) !important;
            color: var(--ok) !important
        }

        .tb.wa {
            background: rgba(239, 68, 68, .2) !important;
            border-color: var(--ng) !important;
            color: var(--ng) !important
        }

        .fb {
            display: none;
            margin-top: 8px;
            margin-left: 38px;
            font-size: .82rem;
            padding: 8px 12px;
            border-radius: 6px
        }

        .fb.v {
            display: block;
            animation: fi .4s ease
        }

        .fb.okf {
            background: rgba(34, 197, 94, .08);
            color: var(--ok)
        }

        .fb.ngf {
            background: rgba(239, 68, 68, .08);
            color: var(--ng)
        }

        @keyframes fi {
            from {
                opacity: 0;
                transform: translateY(-4px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        .sub-s {
            text-align: center;
            margin-top: 40px
        }

        .sub-b {
            background: linear-gradient(135deg, var(--blue), var(--purple));
            color: #fff;
            border: none;
            padding: 16px 48px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all .3s;
            font-family: 'Noto Sans JP', sans-serif;
            box-shadow: 0 4px 20px rgba(56, 189, 248, .3)
        }

        .sub-b:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 28px rgba(56, 189, 248, .4)
        }

        .sov {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(15, 23, 42, .9);
            backdrop-filter: blur(10px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fi .4s ease
        }

        .sov.v {
            display: flex
        }

        .sc {
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: var(--r);
            padding: 48px;
            text-align: center;
            max-width: 420px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, .5);
            animation: pi .5s ease
        }

        @keyframes pi {
            from {
                opacity: 0;
                transform: scale(.8)
            }

            to {
                opacity: 1;
                transform: scale(1)
            }
        }

        .scr {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.8rem;
            font-weight: 700;
            position: relative
        }

        .scr::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            padding: 4px;
            background: linear-gradient(135deg, var(--blue), var(--purple), var(--green));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude
        }

        .sl {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 8px
        }

        .sd {
            color: var(--txt2);
            font-size: .9rem;
            margin-bottom: 24px;
            white-space: pre-line
        }

        .clb {
            background: rgba(255, 255, 255, .08);
            border: 1px solid var(--border);
            color: var(--txt);
            padding: 10px 32px;
            border-radius: 50px;
            cursor: pointer;
            font-size: .9rem;
            font-family: 'Noto Sans JP', sans-serif;
            transition: all .25s
        }

        .clb:hover {
            background: rgba(255, 255, 255, .12)
        }

        .clear-b {
            background: transparent;
            color: var(--txt2);
            border: 1px solid var(--border);
            padding: 16px 48px;
            font-size: 1.1rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all .3s;
            font-family: 'Noto Sans JP', sans-serif;
            margin-left: 16px
        }

        .clear-b:hover {
            background: rgba(239, 68, 68, .1);
            border-color: var(--ng);
            color: var(--ng);
            transform: translateY(-2px)
        }

        .btn-row {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 40px
        }

        .history-section {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 2px solid var(--border)
        }

        .history-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px
        }

        .history-title {
            font-size: 1.2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px
        }

        .history-clear {
            background: none;
            border: 1px solid var(--border);
            color: var(--muted);
            padding: 6px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: .8rem;
            font-family: 'Noto Sans JP', sans-serif;
            transition: all .25s
        }

        .history-clear:hover {
            border-color: var(--ng);
            color: var(--ng)
        }

        .history-empty {
            text-align: center;
            color: var(--muted);
            padding: 30px;
            font-size: .9rem
        }

        .hi {
            background: var(--bg2);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 16px 20px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            animation: fi .4s ease
        }

        .hi-left {
            display: flex;
            align-items: center;
            gap: 14px;
            flex-wrap: wrap
        }

        .hi-num {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: rgba(255, 255, 255, .06);
            font-size: .8rem;
            font-weight: 700;
            color: var(--txt2);
            flex-shrink: 0
        }

        .hi-date {
            font-size: .82rem;
            color: var(--muted)
        }

        .hi-score {
            font-size: 1.3rem;
            font-weight: 700;
            flex-shrink: 0
        }

        .hi-score.high {
            color: var(--ok)
        }

        .hi-score.mid {
            color: var(--blue)
        }

        .hi-score.low {
            color: var(--orange)
        }

        .hi-detail {
            font-size: .78rem;
            color: var(--txt2)
        }
    </style>
</head>

<body>
    <div class="hero">
        <h1>ğŸ‡¬ğŸ‡§ English Reading Test</h1>
        <p class="sub">ä¸­å­¦1å¹´ç”Ÿ â€• è‹±èªé•·æ–‡èª­è§£å•é¡Œ</p>
        <div class="stats">
            <div class="stat">ğŸ“ å•é¡Œæ•° <span>50å•</span></div>
            <div class="stat">ğŸ“– é•·æ–‡ <span>ç´„1000æ–‡å­—</span></div>
            <div class="stat">â± ç›®å®‰ <span>50åˆ†</span></div>
        </div>
    </div>
    <div class="container">
        <div class="passage">
            <p>My name is Yuki Tanaka. I am twelve years old. I am a first-year student at Sakura Junior High School. I
                live in a small city near Tokyo with my family. There are four people in my family: my father, my
                mother, my brother Kenji, and me. My father is a doctor. He works at the city hospital. My mother is an
                English teacher at an elementary school. She can speak English very well.</p>
            <p>I like school very much. My favorite subject is English. I study English every day because I want to talk
                with people from other countries someday. I also like music. I play the piano after school on Mondays
                and Wednesdays. Kenji is fifteen years old. He is a third-year student. He likes sports, especially
                soccer. He practices soccer every day after school. He is the captain of the soccer team.</p>
            <p>We have a pet dog. His name is Pochi. He is three years old. He is very cute and friendly. Every morning,
                I walk with Pochi in the park near my house. The park is big and beautiful. There are many trees and
                flowers there. I usually walk for about thirty minutes.</p>
            <p>On weekends, our family often goes to different places together. Last Sunday, we went to a big library in
                Tokyo. I found many interesting English books there. I borrowed two books. One is about animals in
                Africa, and the other is about a girl who travels around the world. I want to read both books this week.
                My brother borrowed a book about famous soccer players. He was very happy.</p>
            <p>My dream is to become an English teacher like my mother. I think English is very important and fun. I
                study hard every day to make my dream come true. I hope I can help many students love English in the
                future.</p>
            <div class="wc">Word Count: ç´„ 1,010 æ–‡å­—ï¼ˆã‚¹ãƒšãƒ¼ã‚¹å«ã‚€ï¼‰</div>
        </div>

        <div id="part1"></div>
        <div id="part2"></div>

        <div class="btn-row">
            <button class="sub-b" onclick="grade()">ğŸ“Š æ¡ç‚¹ã™ã‚‹</button>
            <button class="clear-b" onclick="clearTest()">ğŸ”„ ã‚„ã‚Šç›´ã™</button>
        </div>

        <div class="history-section">
            <div class="history-header">
                <div class="history-title">ğŸ“‹ æ¡ç‚¹å±¥æ­´</div>
                <button class="history-clear" onclick="clearHistory()">å±¥æ­´ã‚’ã‚¯ãƒªã‚¢</button>
            </div>
            <div id="historyList"></div>
        </div>
    </div>

    <div class="sov" id="ov">
        <div class="sc">
            <div class="scr" id="scr">â€“</div>
            <div class="sl" id="sl">çµæœ</div>
            <div class="sd" id="sd"></div>
            <button class="clb" onclick="document.getElementById('ov').classList.remove('v')">é–‰ã˜ã‚‹</button>
        </div>
    </div>

    <script>
        const MC = [
            { q: "How old is Yuki?", a: "c", o: ["Ten years old", "Eleven years old", "Twelve years old", "Thirteen years old"], e: "\"I am twelve years old.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "How many people are in Yuki's family?", a: "b", o: ["Three", "Four", "Five", "Six"], e: "father, mother, Kenji, Yuki ã®4äººã§ã™ã€‚" },
            { q: "What is Yuki's father's job?", a: "b", o: ["A teacher", "A doctor", "A cook", "A driver"], e: "\"My father is a doctor.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What is Yuki's favorite subject?", a: "d", o: ["Math", "Science", "Music", "English"], e: "\"My favorite subject is English.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "When does Yuki play the piano?", a: "b", o: ["On Mondays and Thursdays", "On Mondays and Wednesdays", "On Tuesdays and Fridays", "Every day"], e: "\"on Mondays and Wednesdays\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What sport does Kenji like?", a: "d", o: ["Baseball", "Basketball", "Tennis", "Soccer"], e: "\"He likes sports, especially soccer.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "How old is Pochi?", a: "c", o: ["One year old", "Two years old", "Three years old", "Four years old"], e: "\"He is three years old.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Where did Yuki's family go last Sunday?", a: "b", o: ["A park", "A library", "A museum", "A zoo"], e: "\"we went to a big library in Tokyo\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "How many books did Yuki borrow?", a: "b", o: ["One", "Two", "Three", "Four"], e: "\"I borrowed two books.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What is Yuki's dream?", a: "c", o: ["To become a doctor", "To become a soccer player", "To become an English teacher", "To become a pianist"], e: "\"My dream is to become an English teacher\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Where does Yuki live?", a: "a", o: ["In a small city near Tokyo", "In Tokyo", "In Osaka", "In a big city"], e: "\"I live in a small city near Tokyo\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Where does Yuki's mother work?", a: "c", o: ["At a junior high school", "At a hospital", "At an elementary school", "At a university"], e: "\"an English teacher at an elementary school\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "How old is Kenji?", a: "d", o: ["Twelve", "Thirteen", "Fourteen", "Fifteen"], e: "\"Kenji is fifteen years old.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What instrument does Yuki play?", a: "b", o: ["The guitar", "The piano", "The violin", "The flute"], e: "\"I play the piano\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What grade is Kenji in?", a: "c", o: ["A first-year student", "A second-year student", "A third-year student", "A fourth-year student"], e: "\"He is a third-year student.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What kind of pet does Yuki have?", a: "a", o: ["A dog", "A cat", "A bird", "A fish"], e: "\"We have a pet dog.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What is Pochi like?", a: "d", o: ["Big and strong", "Small and quiet", "Fast and smart", "Cute and friendly"], e: "\"He is very cute and friendly.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "How long does Yuki walk with Pochi?", a: "c", o: ["About ten minutes", "About twenty minutes", "About thirty minutes", "About one hour"], e: "\"I usually walk for about thirty minutes.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What does the park near Yuki's house have?", a: "b", o: ["A river and bridge", "Many trees and flowers", "A big lake", "A playground"], e: "\"There are many trees and flowers there.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What is one of Yuki's borrowed books about?", a: "a", o: ["Animals in Africa", "Flowers in Japan", "Sports in America", "Food around the world"], e: "\"One is about animals in Africa\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What is the other book Yuki borrowed about?", a: "d", o: ["A boy who plays soccer", "A doctor in a hospital", "A teacher at school", "A girl who travels around the world"], e: "\"a girl who travels around the world\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What did Kenji borrow from the library?", a: "c", o: ["A book about music", "A book about animals", "A book about famous soccer players", "A book about English"], e: "\"a book about famous soccer players\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Why does Yuki study English every day?", a: "a", o: ["To talk with people from other countries", "To become a doctor", "To go to Tokyo", "To play soccer"], e: "\"I want to talk with people from other countries someday\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What does Yuki think about English?", a: "b", o: ["Difficult and boring", "Important and fun", "Easy and simple", "Hard but useful"], e: "\"I think English is very important and fun.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "What does Yuki hope for the future?", a: "d", o: ["To live in Tokyo", "To play the piano well", "To travel the world", "To help students love English"], e: "\"I hope I can help many students love English\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" }
        ];

        const TF = [
            { q: "Yuki lives in Tokyo.", a: false, e: "Yukiã¯æ±äº¬ã§ã¯ãªãã€Œa small city near Tokyoã€ã«ä½ã‚“ã§ã„ã¾ã™ã€‚" },
            { q: "Yuki's mother is an English teacher.", a: true, e: "\"My mother is an English teacher\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Kenji is twelve years old.", a: false, e: "Kenjiã¯15æ­³ï¼ˆfifteenï¼‰ã§ã™ã€‚12æ­³ã¯Yukiã§ã™ã€‚" },
            { q: "Yuki plays the guitar after school.", a: false, e: "ã‚®ã‚¿ãƒ¼ã§ã¯ãªããƒ”ã‚¢ãƒï¼ˆpianoï¼‰ã‚’å¼¾ãã¾ã™ã€‚" },
            { q: "Kenji is the captain of the soccer team.", a: true, e: "\"He is the captain of the soccer team.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Pochi is a cat.", a: false, e: "çŒ«ã§ã¯ãªãçŠ¬ï¼ˆ\"a pet dog\"ï¼‰ã§ã™ã€‚" },
            { q: "Yuki usually walks with Pochi for about thirty minutes.", a: true, e: "\"I usually walk for about thirty minutes.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Kenji borrowed a book about English teachers.", a: false, e: "è‹±èªæ•™å¸«ã§ã¯ãªãã‚µãƒƒã‚«ãƒ¼é¸æ‰‹ï¼ˆ\"famous soccer players\"ï¼‰ã®æœ¬ã§ã™ã€‚" },
            { q: "Yuki is a first-year student at Sakura Junior High School.", a: true, e: "\"I am a first-year student at Sakura Junior High School.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "There are five people in Yuki's family.", a: false, e: "å®¶æ—ã¯5äººã§ã¯ãªã4äººï¼ˆfourï¼‰ã§ã™ã€‚" },
            { q: "Yuki's father works at the city hospital.", a: true, e: "\"He works at the city hospital.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Yuki likes music.", a: true, e: "\"I also like music.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Yuki walks with Pochi in the evening.", a: false, e: "å¤•æ–¹ã§ã¯ãªãæ¯æœï¼ˆ\"Every morning\"ï¼‰ã§ã™ã€‚" },
            { q: "The park near Yuki's house is small.", a: false, e: "å°ã•ã„ã§ã¯ãªãå¤§ãã„ï¼ˆ\"big and beautiful\"ï¼‰ã§ã™ã€‚" },
            { q: "Yuki's family went to a library in Osaka last Sunday.", a: false, e: "å¤§é˜ªã§ã¯ãªãæ±äº¬ï¼ˆTokyoï¼‰ã®å›³æ›¸é¤¨ã§ã™ã€‚" },
            { q: "Yuki borrowed three books from the library.", a: false, e: "3å†Šã§ã¯ãªã2å†Šï¼ˆ\"two books\"ï¼‰ã§ã™ã€‚" },
            { q: "Kenji practices soccer every day after school.", a: true, e: "\"He practices soccer every day after school.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Yuki's mother can speak English very well.", a: true, e: "\"She can speak English very well.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "One of Yuki's books is about animals in Africa.", a: true, e: "\"One is about animals in Africa\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Yuki's father is a teacher.", a: false, e: "æ•™å¸«ã§ã¯ãªãåŒ»è€…ï¼ˆ\"a doctor\"ï¼‰ã§ã™ã€‚" },
            { q: "Yuki wants to read both books next month.", a: false, e: "æ¥æœˆã§ã¯ãªãä»Šé€±ï¼ˆ\"this week\"ï¼‰ã§ã™ã€‚" },
            { q: "There are many trees and flowers in the park.", a: true, e: "\"There are many trees and flowers there.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Kenji was very happy about his book.", a: true, e: "\"He was very happy.\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" },
            { q: "Yuki studies English because she wants to become a doctor.", a: false, e: "åŒ»è€…ã«ãªã‚‹ãŸã‚ã§ã¯ãªãå¤–å›½ã®äººã¨è©±ã™ãŸã‚ï¼ˆ\"talk with people from other countries\"ï¼‰ã§ã™ã€‚" },
            { q: "Yuki's family often goes to different places on weekends.", a: true, e: "\"our family often goes to different places together\" ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚" }
        ];

        const ua = {};
        const labels = ["ã‚¢", "ã‚¤", "ã‚¦", "ã‚¨"];
        const keys = ["a", "b", "c", "d"];

        function buildMC() {
            let h = '<div class="sec-h"><div class="sec-icon ch">ğŸ…°</div><div><div class="sec-t">Part 1ï¼šé¸æŠå¼å•é¡Œï¼ˆQ1ï½Q25ï¼‰</div><div class="sec-d">æ­£ã—ã„ç­”ãˆã‚’ã‚¢ï½ã‚¨ã®ä¸­ã‹ã‚‰1ã¤é¸ã³ãªã•ã„ã€‚</div></div></div>';
            MC.forEach((item, i) => {
                const n = i + 1;
                h += `<div class="qc" id="q${n}"><div class="qt"><span class="qn">${n}</span>${item.q}</div><div class="choices">`;
                item.o.forEach((opt, j) => {
                    h += `<button class="cb" data-q="${n}" data-v="${keys[j]}" onclick="sel(this)">${labels[j]}. ${opt}</button>`;
                });
                h += `</div><div class="fb" id="fb${n}"></div></div>`;
            });
            document.getElementById('part1').innerHTML = h;
        }

        function buildTF() {
            let h = '<div class="sec-h"><div class="sec-icon tf">â­•</div><div><div class="sec-t">Part 2ï¼šæ­£èª¤å•é¡Œï¼ˆQ26ï½Q50ï¼‰</div><div class="sec-d">æœ¬æ–‡ã®å†…å®¹ã¨åˆã£ã¦ã„ã‚Œã°ã€Œã€‡ Trueã€ã€åˆã£ã¦ã„ãªã‘ã‚Œã°ã€Œâœ• Falseã€ã‚’é¸ã³ãªã•ã„ã€‚</div></div></div>';
            TF.forEach((item, i) => {
                const n = i + 26;
                h += `<div class="qc" id="q${n}"><div class="qt"><span class="qn">${n}</span>${item.q}</div><div class="tfc">`;
                h += `<button class="tb t" data-q="${n}" data-v="true" onclick="tsel(this)">ã€‡ True</button>`;
                h += `<button class="tb f" data-q="${n}" data-v="false" onclick="tsel(this)">âœ• False</button>`;
                h += `</div><div class="fb" id="fb${n}"></div></div>`;
            });
            document.getElementById('part2').innerHTML = h;
        }

        function sel(el) {
            const q = el.dataset.q;
            document.querySelectorAll(`.cb[data-q="${q}"]`).forEach(b => b.classList.remove('sel'));
            el.classList.add('sel');
            ua[q] = el.dataset.v;
        }

        function tsel(el) {
            const q = el.dataset.q;
            document.querySelectorAll(`.tb[data-q="${q}"]`).forEach(b => b.classList.remove('sel'));
            el.classList.add('sel');
            ua[q] = el.dataset.v;
        }

        function grade() {
            let c = 0;
            MC.forEach((item, i) => {
                const n = i + 1, card = document.getElementById(`q${n}`), fb = document.getElementById(`fb${n}`);
                card.classList.remove('ok', 'ng'); fb.classList.remove('v', 'okf', 'ngf');
                document.querySelectorAll(`.cb[data-q="${n}"]`).forEach(b => b.classList.remove('ca', 'wa'));
                if (ua[n] === item.a) { c++; card.classList.add('ok'); fb.textContent = 'âœ… æ­£è§£ï¼ â€” ' + item.e; fb.classList.add('v', 'okf'); }
                else {
                    card.classList.add('ng'); fb.textContent = 'âŒ ä¸æ­£è§£ â€” ' + item.e; fb.classList.add('v', 'ngf');
                    document.querySelector(`.cb[data-q="${n}"][data-v="${item.a}"]`)?.classList.add('ca');
                    if (ua[n]) document.querySelector(`.cb[data-q="${n}"][data-v="${ua[n]}"]`)?.classList.add('wa');
                }
            });
            TF.forEach((item, i) => {
                const n = i + 26, card = document.getElementById(`q${n}`), fb = document.getElementById(`fb${n}`), ans = String(item.a);
                card.classList.remove('ok', 'ng'); fb.classList.remove('v', 'okf', 'ngf');
                document.querySelectorAll(`.tb[data-q="${n}"]`).forEach(b => b.classList.remove('ca', 'wa'));
                if (ua[n] === ans) { c++; card.classList.add('ok'); fb.textContent = 'âœ… æ­£è§£ï¼ â€” ' + item.e; fb.classList.add('v', 'okf'); }
                else {
                    card.classList.add('ng'); fb.textContent = 'âŒ ä¸æ­£è§£ â€” ' + item.e; fb.classList.add('v', 'ngf');
                    document.querySelector(`.tb[data-q="${n}"][data-v="${ans}"]`)?.classList.add('ca');
                    if (ua[n]) document.querySelector(`.tb[data-q="${n}"][data-v="${ua[n]}"]`)?.classList.add('wa');
                }
            });
            const total = 50, pct = Math.round(c / total * 100);
            document.getElementById('scr').textContent = pct + '%';
            const sl = document.getElementById('sl');
            if (pct >= 80) { sl.textContent = 'ğŸ‰ ã™ã°ã‚‰ã—ã„ï¼'; sl.style.color = 'var(--ok)'; }
            else if (pct >= 60) { sl.textContent = 'ğŸ‘ ãŒã‚“ã°ã‚Šã¾ã—ãŸï¼'; sl.style.color = 'var(--blue)'; }
            else { sl.textContent = 'ğŸ“– ã‚‚ã†ä¸€åº¦èª­ã‚“ã§ã¿ã‚ˆã†ï¼'; sl.style.color = 'var(--orange)'; }
            document.getElementById('sd').textContent = `${c} / ${total} å•æ­£è§£\né¸æŠå¼ï¼š${MC.length}å• ï¼ æ­£èª¤ï¼š${TF.length}å•`;
            document.getElementById('ov').classList.add('v');
            document.getElementById('q1').scrollIntoView({ behavior: 'smooth', block: 'start' });

            // å±¥æ­´ã«ä¿å­˜
            const history = JSON.parse(localStorage.getItem('testHistory') || '[]');
            const now = new Date();
            history.push({
                date: now.toLocaleString('ja-JP'),
                correct: c,
                total: total,
                pct: pct
            });
            localStorage.setItem('testHistory', JSON.stringify(history));
            renderHistory();
        }

        function clearTest() {
            // å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢
            Object.keys(ua).forEach(k => delete ua[k]);
            // é¸æŠçŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.cb').forEach(b => b.classList.remove('sel', 'ca', 'wa'));
            document.querySelectorAll('.tb').forEach(b => b.classList.remove('sel', 'ca', 'wa'));
            // ã‚«ãƒ¼ãƒ‰ã®æ­£èª¤è¡¨ç¤ºã‚’ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.qc').forEach(c => c.classList.remove('ok', 'ng'));
            // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’éè¡¨ç¤º
            document.querySelectorAll('.fb').forEach(f => { f.classList.remove('v', 'okf', 'ngf'); f.textContent = ''; });
            // ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function renderHistory() {
            const history = JSON.parse(localStorage.getItem('testHistory') || '[]');
            const el = document.getElementById('historyList');
            if (history.length === 0) {
                el.innerHTML = '<div class="history-empty">ã¾ã æ¡ç‚¹å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</div>';
                return;
            }
            let h = '';
            history.slice().reverse().forEach((item, i) => {
                const num = history.length - i;
                const cls = item.pct >= 80 ? 'high' : item.pct >= 60 ? 'mid' : 'low';
                h += `<div class="hi">`;
                h += `<div class="hi-left">`;
                h += `<span class="hi-num">${num}</span>`;
                h += `<div><div class="hi-detail">${item.correct} / ${item.total} å•æ­£è§£</div><div class="hi-date">${item.date}</div></div>`;
                h += `</div>`;
                h += `<div class="hi-score ${cls}">${item.pct}%</div>`;
                h += `</div>`;
            });
            el.innerHTML = h;
        }

        function clearHistory() {
            if (confirm('æ¡ç‚¹å±¥æ­´ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                localStorage.removeItem('testHistory');
                renderHistory();
            }
        }

        document.getElementById('ov').addEventListener('click', function (e) { if (e.target === this) this.classList.remove('v'); });
        buildMC(); buildTF(); renderHistory();
    </script>
</body>

</html>
